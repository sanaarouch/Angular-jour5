{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"../../service/article-fictif.service\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\nfunction ProductComponent_div_0_span_21_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"\\u2605\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const star_r3 = ctx.$implicit;\n    const ctx_r2 = i0.ɵɵnextContext(2);\n    i0.ɵɵclassMap(star_r3 <= ctx_r2.product.rating.rate ? \"fas fa-star\" : \"far fa-star\");\n  }\n}\nconst _c0 = function () {\n  return [1, 2, 3, 4, 5];\n};\nfunction ProductComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 1)(1, \"div\", 2)(2, \"div\", 3);\n    i0.ɵɵelement(3, \"img\", 4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 3)(5, \"nav\", 5)(6, \"ol\", 6)(7, \"li\", 7)(8, \"a\", 8);\n    i0.ɵɵtext(9, \"Accueil\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(10, \"li\", 9);\n    i0.ɵɵtext(11);\n    i0.ɵɵpipe(12, \"titlecase\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(13, \"h1\", 10);\n    i0.ɵɵtext(14);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"p\", 11);\n    i0.ɵɵtext(16);\n    i0.ɵɵpipe(17, \"titlecase\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"div\", 12)(19, \"div\", 13)(20, \"div\", 14);\n    i0.ɵɵtemplate(21, ProductComponent_div_0_span_21_Template, 2, 2, \"span\", 15);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(22, \"span\", 11);\n    i0.ɵɵtext(23);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(24, \"h3\", 16);\n    i0.ɵɵtext(25);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(26, \"p\", 17);\n    i0.ɵɵtext(27);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(28, \"div\", 18)(29, \"div\", 19)(30, \"label\", 20);\n    i0.ɵɵtext(31, \"Quantit\\u00E9:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(32, \"input\", 21);\n    i0.ɵɵlistener(\"ngModelChange\", function ProductComponent_div_0_Template_input_ngModelChange_32_listener($event) {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r4 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r4.quantity = $event);\n    });\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(33, \"div\", 22)(34, \"button\", 23);\n    i0.ɵɵlistener(\"click\", function ProductComponent_div_0_Template_button_click_34_listener() {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r6 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r6.addToCart());\n    });\n    i0.ɵɵelement(35, \"i\", 24);\n    i0.ɵɵtext(36, \" Ajouter au panier \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(37, \"button\", 25);\n    i0.ɵɵelement(38, \"i\", 26);\n    i0.ɵɵtext(39, \" Favoris \");\n    i0.ɵɵelementEnd()()()()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"src\", ctx_r0.product.image, i0.ɵɵsanitizeUrl)(\"alt\", ctx_r0.product.title);\n    i0.ɵɵadvance(8);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(12, 10, ctx_r0.product.category));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(ctx_r0.product.title);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Cat\\u00E9gorie: \", i0.ɵɵpipeBind1(17, 12, ctx_r0.product.category), \"\");\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpureFunction0(14, _c0));\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"(\", ctx_r0.product.rating.count, \" avis)\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"$\", ctx_r0.product.price, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r0.product.description);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.quantity);\n  }\n}\nfunction ProductComponent_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 1)(1, \"div\", 27)(2, \"div\", 28)(3, \"span\", 29);\n    i0.ɵɵtext(4, \"Chargement...\");\n    i0.ɵɵelementEnd()()()();\n  }\n}\nexport let ProductComponent = /*#__PURE__*/(() => {\n  class ProductComponent {\n    constructor(router, service) {\n      this.router = router;\n      this.service = service;\n      this.product = null;\n      this.quantity = 1;\n    }\n    ngOnInit() {\n      this.router.paramMap.subscribe(params => {\n        console.log(params);\n        const id = params.get(\"id\");\n        console.log(id);\n        this.service.getProductById(id).subscribe(response => {\n          this.product = response;\n          console.log(this.product);\n        });\n      });\n    }\n    addToCart() {\n      console.log(`Ajout au panier: ${this.quantity} x ${this.product?.title}`);\n    }\n    static {\n      this.ɵfac = function ProductComponent_Factory(t) {\n        return new (t || ProductComponent)(i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i2.ProductService));\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: ProductComponent,\n        selectors: [[\"app-product\"]],\n        decls: 2,\n        vars: 2,\n        consts: [[\"class\", \"container mt-4\", 4, \"ngIf\"], [1, \"container\", \"mt-4\"], [1, \"row\"], [1, \"col-md-6\"], [1, \"img-fluid\", \"product-detail-image\", 3, \"src\", \"alt\"], [\"aria-label\", \"breadcrumb\"], [1, \"breadcrumb\"], [1, \"breadcrumb-item\"], [\"routerLink\", \"/\"], [1, \"breadcrumb-item\", \"active\"], [1, \"h2\"], [1, \"text-muted\"], [1, \"mb-3\"], [1, \"d-flex\", \"align-items-center\"], [1, \"text-warning\", \"me-2\"], [3, \"class\", 4, \"ngFor\", \"ngForOf\"], [1, \"text-success\", \"mb-3\"], [1, \"lead\"], [1, \"row\", \"mb-4\"], [1, \"col-md-4\"], [\"for\", \"quantity\", 1, \"form-label\"], [\"type\", \"number\", \"id\", \"quantity\", \"min\", \"1\", \"max\", \"10\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [1, \"d-flex\", \"gap-3\"], [1, \"btn\", \"btn-primary\", \"btn-lg\", 3, \"click\"], [1, \"fas\", \"fa-shopping-cart\"], [1, \"btn\", \"btn-outline-secondary\", \"btn-lg\"], [1, \"fas\", \"fa-heart\"], [1, \"text-center\"], [\"role\", \"status\", 1, \"spinner-border\"], [1, \"visually-hidden\"]],\n        template: function ProductComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵtemplate(0, ProductComponent_div_0_Template, 40, 15, \"div\", 0);\n            i0.ɵɵtemplate(1, ProductComponent_div_1_Template, 5, 0, \"div\", 0);\n          }\n          if (rf & 2) {\n            i0.ɵɵproperty(\"ngIf\", ctx.product);\n            i0.ɵɵadvance(1);\n            i0.ɵɵproperty(\"ngIf\", !ctx.product);\n          }\n        },\n        dependencies: [i3.NgForOf, i3.NgIf, i4.DefaultValueAccessor, i4.NumberValueAccessor, i4.NgControlStatus, i4.MinValidator, i4.MaxValidator, i4.NgModel, i1.RouterLink, i3.TitleCasePipe],\n        styles: [\".product-detail-image[_ngcontent-%COMP%]{max-height:500px;object-fit:contain;background-color:#f8f9fa;padding:20px;border-radius:8px}.text-warning[_ngcontent-%COMP%]   .fas[_ngcontent-%COMP%], .text-warning[_ngcontent-%COMP%]   .far[_ngcontent-%COMP%]{color:#ffc107}.btn-lg[_ngcontent-%COMP%]{padding:12px 24px}.gap-3[_ngcontent-%COMP%]{gap:1rem}\"]\n      });\n    }\n  }\n  return ProductComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}